<!DOCTYPE html>
<!-- Highlight.js -->
<!-- <link href="https://cdn.bootcdn.net/ajax/libs/highlight.js/9.18.1/styles/a11y-dark.min.css" rel="stylesheet">
<script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script> -->


<html lang="zh-CN">


<head>
  <meta charset="utf-8" />
    
  <meta name="description" content="这是我的博客" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
    图解网络基础知识 |  孤行
  </title>
  <meta name="generator" content="hexo-theme-ayer">
  
  <link rel="shortcut icon" href="/images/logo.jpg" />
  
  
<link rel="stylesheet" href="/dist/main.css">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css">
  
<link rel="stylesheet" href="/css/custom.css">

  
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
  
  

  

</head>

</html>

<body>
  <div id="app">
    
      
    <main class="content on">
      <section class="outer">
  <article
  id="post-图解网络基础知识"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  图解网络基础知识
</h1>
 

    </header>
     
    <div class="article-meta">
      <a href="/%5Bobject%20Object%5D/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" class="article-date">
  <time datetime="2021-04-08T16:37:44.669Z" itemprop="datePublished">2021-04-09</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>
  </div>
  
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> 字数统计:</span>
            <span class="post-count">5.2k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> 阅读时长≈</span>
            <span class="post-count">17 分钟</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="图解网络基础知识"><a href="#图解网络基础知识" class="headerlink" title="图解网络基础知识"></a>图解网络基础知识</h1><p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C.jpg" alt="图片"></p>
<h3 id="网络协议"><a href="#网络协议" class="headerlink" title="网络协议"></a>网络协议</h3><p>我们用手机连接上网的时候，会用到许多网络协议。从手机连接 WiFi 开始，使用的是 <strong>802.11</strong> （即 WLAN ）协议，通过 WLAN 接入网络；手机自动获取网络配置，使用的是 <strong>DHCP</strong> 协议，获取配置后手机才能正常通信。这时手机已经连入<strong>局域网</strong>，可以访问局域网内的设备和资源，但还不能使用互联网应用，<span id="more"></span>例如：微信、抖音等。想要访问<strong>互联网</strong>，还需要在手机的上联网络设备上实现相关协议，即在无线路由器上配置 <strong>NAT</strong>、 <strong>PPPOE</strong> 等功能，再通过运营商提供的互联网线路把局域网接入到互联网中，手机就可以上网玩微信、刷抖音了。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1-1.jpg" alt="图片">网络协议示意图</p>
<blockquote>
<p><strong>局域网</strong> ：小范围内的私有网络，一个家庭内的网络、一个公司内的网络、一个校园内的网络都属于局域网。</p>
<p><strong>广域网</strong>：把不同地域的局域网互相连接起来的网络。运营商搭建广域网实现跨区域的网络互连。</p>
<p><strong>互联网</strong>：互联全世界的网络。互联网是一个开放、互联的网络，不属于任何个人和任何机构，接入互联网后可以和互联网的任何一台主机进行通信。</p>
</blockquote>
<p>简单来说，就是手机、无线路由器等设备通过多种<strong>网络协议</strong>实现通信。网络协议就是为了通信各方能够互相交流而定义的标准或规则，设备只要遵循相同的网络协议就能够实现通信。那网络协议又是谁规定的呢？ISO 制定了一个国际标准 <strong>OSI</strong> ， 其中的 <strong>OSI 参考模型</strong>常被用于网络协议的制定。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1-2.jpg" alt="图片">OSI 参考模型图</p>
<h3 id="OSI-参考模型"><a href="#OSI-参考模型" class="headerlink" title="OSI 参考模型"></a>OSI 参考模型</h3><p>OSI 参考模型将网络协议提供的服务分成 <strong>7</strong> 层，并定义每一层的<strong>服务</strong>内容，实现每一层服务的是<strong>协议</strong>，协议的具体内容是<strong>规则</strong>。上下层之间通过<strong>接口</strong>进行交互，同一层之间通过<strong>协议</strong>进行交互。OSI 参考模型只对各层的服务做了粗略的界定，并没有对协议进行详细的定义，但是许多协议都对应了 7 个分层的某一层。所以要了解网络，首先要了解 OSI 参考模型。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1-3.jpg" alt="图片">OSI 参考模型分层功能</p>
<h4 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h4><p>OSI参考模型的第 <strong>7</strong> 层（最高层）。应用程序和网络之间的接口，直接向用户提供服务。应用层协议有电子邮件、远程登录等协议。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1-4.jpg" alt="图片">应用层示例图</p>
<h4 id="表示层"><a href="#表示层" class="headerlink" title="表示层"></a>表示层</h4><p>OSI参考模型的第 <strong>6</strong> 层。负责数据格式的互相转换，如编码、数据格式转换和加密解密等。保证一个系统应用层发出的信息可被另一系统的应用层读出。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1-5.jpg" alt="图片">表示层示例图</p>
<h4 id="会话层"><a href="#会话层" class="headerlink" title="会话层"></a>会话层</h4><p>OSI参考模型的第 <strong>5</strong> 层。主要是管理和协调不同主机上各种进程之间的通信（对话），即负责建立、管理和终止应用程序之间的会话。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1-6.jpg" alt="图片">会话层示例图</p>
<h4 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h4><p>OSI参考模型的第 <strong>4</strong> 层。为上层协议提供通信主机间的可靠和透明的数据传输服务，包括处理差错控制和流量控制等问题。只在通信主机上处理，不需要在路由器上处理。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1-7.jpg" alt="图片">传输层示例图</p>
<h4 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h4><p>OSI参考模型的第 <strong>3</strong> 层。在网络上将数据传输到目的地址，主要负责寻址和路由选择。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1-8.jpg" alt="图片">网络层示例图</p>
<h4 id="数据链路层"><a href="#数据链路层" class="headerlink" title="数据链路层"></a>数据链路层</h4><p>OSI参考模型的第 2 层。负责物理层面上两个互连主机间的通信传输，将由 0 、 1 组成的比特流划分成数据帧传输给对端，即数据帧的生成与接收。通信传输实际上是通过物理的传输介质实现的。数据链路层的作用就是在这些通过传输介质互连的设备之间进行数据处理。</p>
<p>网络层与数据链路层都是基于目标地址将数据发送给接收端的，但是网络层负责将整个数据发送给最终目标地址， 而数据链路层则只负责发送一个分段内的数据。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1-9.jpg" alt="图片">数据链路层示例图</p>
<h4 id="物理层"><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h4><p>OSI参考模型的第 <strong>1</strong> 层（最底层）。负责逻辑信号（比特流）与物理信号（电信号、光信号）之间的互相转换，通过传输介质为数据链路层提供物理连接。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1-10.jpg" alt="图片">物理层示例图</p>
<h3 id="TCP-IP-参考模型"><a href="#TCP-IP-参考模型" class="headerlink" title="TCP/IP 参考模型"></a>TCP/IP 参考模型</h3><p>由于 OSI 参考模型把服务划得过于琐碎，先定义参考模型再定义协议，有点理想化。TCP/IP 模型则正好相反，通过已有的协议归纳总结出来的模型，成为业界的实际网络协议标准。</p>
<p>TCP/IP 是有由 IETF 建议、推进其标准化的一种协议，是 IP 、 TCP 、 HTTP 等协议的集合。TCP/IP 是为使用互联网而开发制定的协议族，所以互联网的协议就是 TCP/IP 。</p>
<p>先介绍下 TCP/IP 与 OSI 分层之间的对应关系，以及 TCP/IP 每层的主要协议。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-1.jpg" alt="图片"></p>
<h4 id="网络接入层"><a href="#网络接入层" class="headerlink" title="网络接入层"></a>网络接入层</h4><p>TCP/IP 是以 OSI 参考模型的物理层和数据链路层的功能是透明的为前提制定的，并未对这两层进行定义，所以可以把物理层和数据链路层合并称为<strong>网络接入层</strong>。网络接入层是对网络介质的管理，定义如何使用网络来传送数据。但是在通信过程中这两层起到的作用不一样，所以也有把物理层和数据链路层分别称为<strong>硬件</strong>、<strong>网络接口层</strong>。TCP/IP 分为四层或者五层都可以，只要能理解其中的原理即可。</p>
<p>设备之间通过物理的传输介质互连， 而互连的设备之间使用 <strong>MAC 地址</strong>实现数据传输。采用 MAC 地址，目的是为了识别连接到同一个传输介质上的设备。</p>
<h4 id="网络层-1"><a href="#网络层-1" class="headerlink" title="网络层"></a>网络层</h4><p>相当于 OSI 模型中的第 3 层网络层，使用 <strong>IP 协议</strong>。IP 协议基于 <strong>IP 地址</strong>转发分包数据，作用是将数据包从源地址发送到目的地址。</p>
<p>TCP/IP 分层中的网络层与传输层的功能通常由<strong>操作系统</strong>提供。 路由器就是通过网络层实现<strong>转发数据包</strong>的功能。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-2.jpg" alt="图片">网络层</p>
<p>网络传输中，每个节点会根据数据的地址信息，来判断该报文应该由哪个网卡发送出去。各个地址会参考一个发出接口列表， MAC 寻址中所参考的这张表叫做<strong>MAC 地址转发表</strong>，而 IP 寻址中所参考的叫做<strong>路由控制表</strong>。MAC 地址转发表根据自学自动生成。路由控制表则根据路由协议自动生成。MAC 地址转发表中所记录的是实际的 MAC 地址本身，而路由表中记录的 IP 地址则是集中了之后的网络号（即网络号与子网掩码）。</p>
<ul>
<li><p><strong>IP</strong></p>
<p>IP 是跨越网络传送数据包，使用 IP 地址作为主机的标识，使整个互联网都能收到数据的协议。IP 协议独立于底层介质，实现从源到目的的数据转发。IP 协议不具有重发机制，属于非可靠性传输协议。</p>
</li>
<li><p><strong>ICMP</strong></p>
<p>用于在 IP 主机、路由器之间传递控制消息，用来诊断网络的健康状况。</p>
</li>
<li><p><strong>ARP</strong></p>
<p>从数据包的 IP 地址中解析出 MAC 地址的一种协议。</p>
</li>
</ul>
<h4 id="传输层-1"><a href="#传输层-1" class="headerlink" title="传输层"></a>传输层</h4><p>相当于 OSI 模型中的第 4 层传输层，主要功能就是让应用程序之间互相通信，通过<strong>端口号</strong>识别应用程序，使用的协议有面向连接的 <strong>TCP</strong> 协议和面向无连接的<strong>UDP</strong> 协议。</p>
<p><strong>面向连接</strong>是在发送数据之前， 在收发主机之间连接一条逻辑通信链路。好比平常打电话，输入完对方电话号码拨出之后，只有对方接通电话才能真正通话，通话结束后将电话机扣上就如同切断电源。</p>
<p><strong>面向无连接</strong>不要求建立和断开连接。发送端可于任何时候自由发送数据。如同去寄信，不需要确认收件人信息是否真实存在，也不需要确认收件人是否能收到信件，只要有个寄件地址就可以寄信了。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-3.jpg" alt="图片">传输层</p>
<ul>
<li><p><strong>TCP</strong></p>
<p>TCP 是一种面向有连接的传输层协议，能够对自己提供的连接实施控制。适用于要求<strong>可靠传输</strong>的应用，例如文件传输。</p>
</li>
<li><p><strong>UDP</strong></p>
<p>UDP 是一种面向无连接的传输层协议，不会对自己提供的连接实施控制。适用于<strong>实时</strong>应用，例如：IP电话、视频会议、直播等。</p>
</li>
</ul>
<h4 id="应用层-1"><a href="#应用层-1" class="headerlink" title="应用层"></a>应用层</h4><p>相当于 OSI 模型中的第 5 - 7 层的集合，不仅要实现 OSI 模型应用层的功能，还要实现会话层和表示层的功能。HTTP 、 POP3 、 TELNET 、 SSH 、 FTP 、 SNMP都是应用层协议。</p>
<p>TCP/IP 应用的架构绝大多数属于<strong>客户端/服务端</strong>模型。提供服务的程序叫服务端， 接受服务的程序叫客户端。客户端可以随时发送请求给服务端。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-4.jpg" alt="图片">应用层</p>
<ul>
<li><p><strong>HTTP</strong></p>
<p>是 WWW 浏览器和服务器之间的应用层通信协议，所传输数据的主要格式是 HTML 。HTTP 定义高级命令或者方法供浏览器用来与Web服务器通信。</p>
</li>
<li><p><strong>POP3</strong></p>
<p>简单邮件传输协议，邮件客户端和邮件服务器使用。</p>
</li>
<li><p><strong>TELNET 和 SSH</strong></p>
<p>远程终端协议，用于远程管理网络设备。TELNET 是明文传输， SSH 是加密传输。</p>
</li>
<li><p><strong>SNMP</strong></p>
<p>简单网络管理协议，用于网管软件进行网络设备的监控和管理。</p>
</li>
</ul>
<h4 id="封装与解封装"><a href="#封装与解封装" class="headerlink" title="封装与解封装"></a>封装与解封装</h4><p>通常，为协议提供的信息为包<strong>头部</strong>，所要发送的内容为<strong>数据</strong>。每个分层中，都会对所发送的数据附加一个头部，在这个头部中包含了该层必要的信息， 如发送的目标地址以及协议相关信息。在下一层的角度看，从上一分层收到的包全部都被认为是本层的数据。</p>
<p>数据发送前，按照参考模型从上到下，在数据经过每一层时，添加协议报文头部信息，这个过程叫<strong>封装</strong>。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-5.jpg" alt="图片">封装</p>
<p>数据接收后，按照参考模型从下到上，在数据经过每一层时，去掉协议头部信息，这个过程叫<strong>解封装</strong>。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-6.jpg" alt="图片">解封装</p>
<p>经过传输层协议封装后的数据称为<strong>段</strong>，经过网络层协议封装后的数据称为<strong>包</strong>，经过数据链路层协议封装后的数据称为<strong>帧</strong>，物理层传输的数据为<strong>比特</strong>。</p>
<p>TCP/IP 通信中使用 MAC 地址、 IP 地址、端口号等信息作为<strong>地址标识</strong>。甚至在应用层中，可以将电子邮件地址作为网络通信的地址。</p>
<h4 id="实际数据传输举例"><a href="#实际数据传输举例" class="headerlink" title="实际数据传输举例"></a>实际数据传输举例</h4><p>实际生活中，互联网是使用的 TCP/IP 协议进行网络连接的。我们以<strong>访问网站</strong>为例，看看网络是如何进行通信的。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-7.jpg" alt="图片">数据传输举例</p>
<h5 id="发送数据包"><a href="#发送数据包" class="headerlink" title="发送数据包"></a>发送数据包</h5><p>访问 HTTP 网站页面时，打开浏览器，输入网址，敲下回车键就开始进行 TCP/IP 通信了。</p>
<p><strong>应用程序处理</strong></p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-8.jpg" alt="图片">应用层</p>
<p>首先，应用程序中会进行 HTML 格式<strong>编码</strong>处理，相当于 OSI 的表示层功能。编码转化后，不一定会马上发送出去，相当于会话层的功能。在请求发送的那一刻，建立 TCP 连接，然后在 TCP 连接上发送数据。接下来就是将数据发送给下一层的 TCP 进行处理。</p>
<p><strong>TCP 模块处理</strong></p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-9.jpg" alt="图片">传输层</p>
<p>TCP 会将应用层发来的数据顺利的发送至目的地。实现可靠传输的功能，需要给数据封装 TCP 头部信息。TCP 头部信息包括源端口号和目的端口号（识别主机上应用）、序号（确认哪部分是数据）以及校验和（判断数据是否被损坏）。随后<strong>封装</strong>了 TCP 头部信息的段再发送给 IP 。</p>
<p><strong>IP  模块处理</strong></p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-10.jpg" alt="图片">网络层</p>
<p>IP 将 TCP 传过来的数据段当做自己的数据，并封装 IP 头部信息。IP 头部信息中包含目的 IP 地址和源 IP 地址，以及上层协议类型信息。</p>
<p>IP 包生成后，根据主机<strong>路由表</strong>进行数据发送。</p>
<p><strong>网络接口处理</strong></p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-11.jpg" alt="图片">物理层</p>
<p>网络接口对传过来的 IP 包封装上以太网头部信息并进行发送处理。以太网头部信息包含目的 MAC 地址、源 MAC 地址，以及上层协议类型信息。然后将以太网数据<strong>帧</strong>通过物理层传输给接收端。发送处理中的 FCS 由硬件计算， 添加到包的最后。设置 FCS 的目的是为了判断数据包是否由于噪声而被破坏。</p>
<h5 id="接收数据包"><a href="#接收数据包" class="headerlink" title="接收数据包"></a>接收数据包</h5><p>包的接收流程是发送流程的<strong>反向</strong>过程。</p>
<p><strong>网络接口处理</strong></p>
<p>收到以太网包后，首先查看头部信息的目的 MAC 地址是否是发给自己的包。如果不是发送给自己的包就丢弃。如果是发送给自己的包，查看上层协议类型是 IP 包，以太网帧<strong>解封装</strong>成 IP 包，传给 IP 模块进行处理。如果是无法识别的协议类型，则丢弃数据。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-12.jpg" alt="图片">网口处理流程</p>
<p><strong>IP  模块处理</strong></p>
<p>收到 IP 包后，进行类似处理。根据头部信息的目的 IP 地址判断是否是发送给自己包，如果是发送给自己的包，则查看上一层的协议类型。上一层协议是 TCP ，就把 IP 包解封装发送给 TCP 协议处理。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-13.jpg" alt="图片">IP模块处理流程</p>
<p>假如有路由器，且接收端不是自己的地址，那么根据路由控制表转发数据。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-14.jpg" alt="图片">路由器处理流程</p>
<p><strong>TCP 模块处理</strong></p>
<p>收到 TCP 段后，首先查看校验和，判断数据是否被破坏。然后检查是否按照序号接收数据。最后检查端口号，确定具体的应用程序。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-15.jpg" alt="图片">TCP模块处理流程</p>
<p>数据接收完毕后，发送一个 “ <strong>确认回执</strong> ” 给发送端。如果这个回执信息未能达到发送端，那么发送端会认为接收端没有接收到数据而一直反复发送。</p>
<p>数据被完整接收后，会把 TCP 段解封装发送给由端口号识别的应用程序。</p>
<p><strong>应用程序处理</strong></p>
<p>应用程序收到数据后，通过解析数据内容获知发送端请求的网页内容，然后按照 HTTP 协议进行后续数据交互。</p>
<h3 id="网络构成"><a href="#网络构成" class="headerlink" title="网络构成"></a>网络构成</h3><p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-16.jpg" alt="图片">网络构成要素</p>
<p>搭建一套网络涉及各种线缆和网络设备。下面介绍一些常见的<strong>硬件设备</strong>。硬件设备所说的层数是参照的 OSI 参考模型，而不是 TCP/IP 模型。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-17.jpg" alt="图片">主要设备及作用表</p>
<h4 id="通信介质与数据链路"><a href="#通信介质与数据链路" class="headerlink" title="通信介质与数据链路"></a>通信介质与数据链路</h4><p>设备之间通过线缆进行连接。有线线缆有双绞线、光纤、串口线等。根据数据链路不同选择对应的线缆。传输介质还可以被分为电波、微波等不同类型的电磁波。</p>
<p><strong>传输速率</strong>：单位为 <code>bps</code> ，是指单位时间内传输的数据量有多少。又称作带宽，带宽越大网络传输能力就越强。</p>
<p><strong>吞吐量</strong>：单位为 <code>bps</code> ，主机之间实际的传输速率。吞吐量这个词不仅衡量带宽， 同时也衡量主机的 CPU 处理能力、 网络的拥堵程度、 报文中数据字段的占有份额等信息。</p>
<h4 id="网卡"><a href="#网卡" class="headerlink" title="网卡"></a>网卡</h4><p>任一主机连接网络时，必须要使用网卡。可以是有线网卡，用来连接有线网络，也可以是无线网卡连接 WiFi 网络。每块网卡都有一个唯一的 <strong>MAC 地址</strong>，也叫做硬件地址或物理地址。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-18.jpg" alt="图片">网卡</p>
<h4 id="二层交换机"><a href="#二层交换机" class="headerlink" title="二层交换机"></a>二层交换机</h4><p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-19.jpg" alt="图片">二层交换机</p>
<p>二层交换机位于 OSI 模型的第 2 层（数据链路层）。它能够识别数据链路层中的数据帧，并将帧转发给相连的另一个数据链路。</p>
<p>数据帧中有一个数据位叫做 <strong>FCS</strong> ，用以校验数据是否正确送达目的地。二层交换机通过检查这个值，将损坏的数据丢弃。</p>
<p>二层交换机根据 MAC 地址<strong>自学机制</strong>判断是否需要转发数据帧。</p>
<h4 id="路由器-三层交换机"><a href="#路由器-三层交换机" class="headerlink" title="路由器 / 三层交换机"></a>路由器 / 三层交换机</h4><p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-20.jpg" alt="图片">路由器</p>
<p>路由器是在 OSI 模型的第 3 层（网络层）上连接两个网络、并对报文进行转发的设备。二层交换机是根据 MAC 地址进行处理，而路由器 / 三层交换机则是根据<strong>IP 地址</strong>进行处理的。因此 TCP/IP 中网络层的地址就成为了 IP 地址。</p>
<p>路由器可以连接不同的数据链路。比如连接两个以太网，或者连接一个以太网与一个无线网。家庭里面常见的无线路由器也是路由器的一种。</p>
<h4 id="四至七层交换机"><a href="#四至七层交换机" class="headerlink" title="四至七层交换机"></a>四至七层交换机</h4><p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-21.jpg" alt="图片">负载均衡设备</p>
<p>四至七层交换机负责处理 OSI 模型中从传输层至应用层的数据。以 TCP 等协议的传输层及其上面的应用层为基础，分析收发数据，并对其进行特定的处理。例如，视频网站的一台服务器不能满足访问需求，通过<strong>负载均衡设备</strong>将访问分发到后台多个服务器上，就是四至七层交换机的一种。还有带宽控制、广域网加速器、防火墙等应用场景。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-22.jpg" alt="图片">总结</p>
<p>应用层设备有电脑、手机、服务器等。应用层设备<strong>不转发数据</strong>，它们是<strong>数据的源或目的</strong>，拥有应用层以下的各层功能。发送数据时，从上而下的顺序，逐层对数据进行封装，再通过以太网将数据发送出去。接收数据时，从下而上的顺序，逐层对数据进行解封装，最终恢复成原始数据。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-23.jpg" alt="图片">应用层处理流程</p>
<p>数据链路层设备有二层交换机、网桥等。二层网络设备<strong>只转发数据</strong>，通过识别数据的 <strong>MAC 地址</strong>进行转发。二层交换机接收数据后，对数据最外层封装的以太网头部信息进行查看，看到数据的目的 MAC 地址后，把数据帧从对应端口发送出去。交换机并不会对数据帧进行解封装，只要知道 MAC 地址信息就可以正确地将数据转发出去。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-24.jpg" alt="图片">数据链路层处理流程</p>
<p>网络层设备有路由器、三层交换机等。三层网络设备<strong>只转发数据</strong>，通过识别数据的<strong>IP 地址</strong>进行转发。路由器接收数据后，首先查看最外层封装的以太网头部信息，当目的 MAC 地址是自己时，就会将以太网头部解封装，查看数据的 IP 地址。根据 IP 路由表做出转发决定时，路由器会把下一跳设备的 MAC 地址作为以太网头部的目的 MAC 地址，重新封装以太网头部并将数据转发出去。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-25.jpg" alt="图片">网络层处理流程</p>
<p>转发数据的网络设备和应用层的数据，就像<strong>快递员</strong>和<strong>包裹</strong>一样。快递员根据目的地址运送包裹，不必了解包裹里的具体内容。</p>
<p>通过分层功能来区分网络设备已经不再适用，交换机集成三层路由功能就是三层交换机，无线AP集成路由器功能就是无线路由器。但是为了方便说明，通常是介绍单个设备的功能和原理。</p>
<p><img src="/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2-26.jpg" alt="图片">无线路由器</p>
 
      <!-- reward -->
      
      <div id="reword-out">
        <div id="reward-btn">
          打赏
        </div>
      </div>
      
    </div>
    

    <!-- copyright -->
    
    <div class="declare">
      <ul class="post-copyright">
        <li>
          <i class="ri-copyright-line"></i>
          <strong>版权声明： </strong>
          
          本博客所有文章除特别声明外，著作权归作者所有。转载请注明出处！
          
        </li>
      </ul>
    </div>
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        分享
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://coder-yrm.cn/[object%20Object]/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" alt="微信分享二维码">
    </div>
</div>

<div id="share-mask"></div>  
    </footer>
  </div>

   
  <nav class="article-nav">
    
    
      <a href="/%5Bobject%20Object%5D/%E6%9C%80%E5%85%A8%E9%9D%A2%E7%9A%84Python%E9%87%8D%E7%82%B9/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">最全面的Python重点</div>
      </a>
    
  </nav>

   
<!-- valine评论 -->
<div id="vcomments-box">
  <div id="vcomments"></div>
</div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script>
<script>
  new Valine({
    el: "#vcomments",
    app_id: "GzTS5eIOYC6zV8XW38wQc5iY-gzGzoHsz",
    app_key: "W0GkQRo3vjfI8v95NhOWlcMg",
    path: window.location.pathname,
    avatar: "monsterid",
    placeholder: "给我的文章加点评论吧~",
    recordIP: true,
  });
  const infoEle = document.querySelector("#vcomments .info");
  if (infoEle && infoEle.childNodes && infoEle.childNodes.length > 0) {
    infoEle.childNodes.forEach(function (item) {
      item.parentNode.removeChild(item);
    });
  }
</script>
<style>
  #vcomments-box {
    padding: 5px 30px;
  }

  @media screen and (max-width: 800px) {
    #vcomments-box {
      padding: 5px 0px;
    }
  }

  #vcomments-box #vcomments {
    background-color: #fff;
  }

  .v .vlist .vcard .vh {
    padding-right: 20px;
  }

  .v .vlist .vcard {
    padding-left: 10px;
  }
</style>

 
   
     
</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2021
        <i class="ri-heart-fill heart_icon"></i> guxing
      </li>
    </ul>
    <ul>
      <li>
        
        
        
        由 <a href="https://hexo.io" target="_blank">Hexo</a> 强力驱动
        <span class="division">|</span>
        主题 - <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></s>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/logo.png" alt="孤行"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <!-- <a class="nav-item-link" href="/%5Bobject%20Object%5D">主页</a> -->
      <a class="nav-item-link" href="/">主页</a>	  
			

    </li>
    
    <li class="nav-item">
      <!-- <a class="nav-item-link" href="/%5Bobject%20Object%5D">归档</a> -->
      <a class="nav-item-link" href="/archives">归档</a>	  
			

    </li>
    
    <li class="nav-item">
      <!-- <a class="nav-item-link" href="/%5Bobject%20Object%5D">分类</a> -->
      <a class="nav-item-link" href="/categories">分类</a>	  
			
			<ul class="sub-menu">
			  
				<li>
				  <small></small><a class="nav-item-link" href="/categories">哈哈
				  </a></small>
				</li>
			  
				<li>
				  <small></small><a class="nav-item-link" href="/tags">嘻嘻
				  </a></small>
				</li>
			  
			</ul>
		  

    </li>
    
    <li class="nav-item">
      <!-- <a class="nav-item-link" href="/%5Bobject%20Object%5D">标签</a> -->
      <a class="nav-item-link" href="/tags">标签</a>	  
			

    </li>
    
    <li class="nav-item">
      <!-- <a class="nav-item-link" href="/%5Bobject%20Object%5D">友链</a> -->
      <a class="nav-item-link" href="/friends">友链</a>	  
			

    </li>
    
    <li class="nav-item">
      <!-- <a class="nav-item-link" href="/%5Bobject%20Object%5D">关于我</a> -->
      <a class="nav-item-link" href="/2021/about">关于我</a>	  
			

    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>

    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>....请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->


<script src="/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: '.tocbot',
    contentSelector: '.article-entry',
    headingSelector: 'h1, h2, h3, h4, h5, h6',
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: 'main',
    positionFixedSelector: '.tocbot',
    positionFixedClass: 'is-position-fixed',
    fixedSidebarOffset: 'auto'
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>

<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->


<script src="/js/busuanzi-2.3.pure.min.js"></script>


<!-- ClickLove -->


<script src="/js/clickLove.js"></script>


<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->


<link rel="stylesheet" href="/css/clipboard.css">

<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>


<!-- CanvasBackground -->


<script src="/js/dz.js"></script>



    
  </div>
</body>

</html>